<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        canvas {
            border: 1px solid #dfdfdf;
        }
    </style>
</head>
<body>
    <canvas width="1340" height="600"></canvas>
    <script>
        const log = console.log;

        let dump = [
            {price: 1000, p_date: '2020-01-01'},
            {price: 1000, p_date: '2020-01-01'},
            {price: 2000, p_date: '2020-01-02'},
            {price: 3000, p_date: '2020-01-02'},
            {price: 4000, p_date: '2020-01-03'},
            {price: 5000, p_date: '2020-01-04'},
        ]

        let out = {};

        dump.forEach(data => {
            if(typeof out[data.p_date] == 'undefined') {
                out[data.p_date] = data.price;
                return;
            }
            
            out[data.p_date] += data.price;
        });

        const canvas = document.querySelector("canvas");
        const ctx = canvas.getContext('2d');
        const PADDING = 100;
        const W = canvas.width;
        const H = canvas.height;

        let {width,height} = canvas;
        log(width, height);

        ctx.strokeStyle = "#333";
        ctx.fillStyle = "#333";

        drawGraph(out);

        function drawline(x, y, dx, dy) {
            ctx.beginPath();
            ctx.moveTo(PADDING+x, H-PADDING-y);
            ctx.lineTo(PADDING+dx, H-PADDING-dy);
            ctx.stroke();
        }

        function drawBox(x, y, w, h) {
            ctx.fillRect(PADDING+x, H-PADDING-y-h, w, h);
        }

        function drawText(text, x, y) {
            ctx.textAlign = "center";
            ctx.fillText(text, PADDING+x+25, H-PADDING-y);
        }

        function drawGraph(data) {
            const length = 7 // Object.keys(data);
            const graphW = 50;

            for(let i=0; i<length; i++) {
                let x = ((W-PADDING*2) / (length + 1)) * (i+1) - (graphW / 2);
                drawText("ㅁㄴㅇㅁㄴㅇㅁㄴㅇ", x, 0 - 15);
                drawBox(x, 0, graphW, 100);
            }

            // Draw Axle
            drawline(0, 0, 0, H - (PADDING * 2));
            drawline(0, 0, W - (PADDING * 2), 0);
        }
    </script>
</body>
</html>